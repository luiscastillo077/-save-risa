namespace SpriteKind {
    export const Boss = SpriteKind.create()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    music.pewPew.play()
    projectile = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . 1 . . . . . . . . . . 
        . . . . 4 1 1 . . . . . . . . . 
        . . . 4 5 1 1 1 1 1 1 . . . . . 
        . . 4 5 5 1 1 1 1 1 1 9 . . . . 
        . . . 4 5 1 1 1 1 1 1 . . . . . 
        . . . . 4 1 1 . . . . . . . . . 
        . . . . . 1 . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, Risa, 200, 0)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Boss, function (sprite, otherSprite) {
    sprite.destroy(effects.disintegrate, 500)
    info.changeScoreBy(1)
    Shots += 1
    if (Shots >= 10) {
        game.over(true)
    }
})
sprites.onOverlap(SpriteKind.Food, SpriteKind.Player, function (sprite, otherSprite) {
    sprite.destroy(effects.ashes, 500)
    music.magicWand.play()
    info.changeLifeBy(1)
    info.changeScoreBy(10)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    effects.starField.endScreenEffect()
    otherSprite.destroy(effects.disintegrate, 500)
    info.changeScoreBy(1)
    Defeats += 1
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    music.wawawawaa.play()
    otherSprite.destroy(effects.ashes, 500)
    info.changeLifeBy(-1)
})
let Master_Comet: Sprite = null
let Space_Comet: Sprite = null
let Strenght: Sprite = null
let Defeats = 0
let Shots = 0
let projectile: Sprite = null
let Risa: Sprite = null
effects.starField.startScreenEffect()
Risa = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . 7 7 7 9 9 9 9 7 . . . . 
    . . . 7 7 7 7 9 9 9 9 7 7 . . . 
    . . 7 7 7 7 7 9 9 9 9 9 7 . . . 
    . 7 7 7 7 7 9 9 9 9 9 9 7 7 . . 
    . 7 7 7 7 9 9 9 9 9 9 9 9 9 . . 
    . 7 7 9 9 9 9 7 7 9 9 9 9 9 . . 
    . 9 9 9 9 9 9 7 7 9 9 9 9 9 . . 
    . 9 9 9 9 9 9 9 9 9 9 9 9 9 . . 
    . 9 9 9 9 9 9 9 9 9 9 7 7 7 . . 
    . 9 9 9 9 9 9 9 9 9 9 7 7 7 . . 
    . . 7 7 7 9 9 9 9 7 7 7 7 . . . 
    . . . 7 7 9 9 9 9 7 7 7 . . . . 
    . . . . 7 9 9 9 9 7 7 . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
Risa.setFlag(SpriteFlag.StayInScreen, true)
info.setLife(5)
info.setScore(0)
controller.moveSprite(Risa, 100, 100)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ....................................1............................1...........................1.................................1.............................1..
    .....1..........................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................1............................1....................................................
    ................................................1..........................................................................................1....................
    ................................................................................................................................................................
    ...................1.................................................................................................................................ccccccccccc
    ..................................................................................................................................................cccccccccccccc
    .................................................................................................................................................ccccccccccccccc
    ................................................................................................................................................3333333333333333
    ..............................................................................................................................................333333333333333333
    ..............................................................................................................................................333333333333333333
    .............................................................................................................................................ccccccccccccccccccc
    ............................................................................................................................................cccccccccccccccccccc
    ...........................................................................................................................................ccccccccccccccccccccc
    ...........................................................................................................................................ccccccccccccccccccccc
    ...........................................................................................................................................ccccccccccccccccccccc
    ..........................................................................................................................................cccccccccccccccccccccc
    ..........................................................................................................................................cccccccccccccccccccccc
    ......1........................................................1............................1...............................1.............cccccccccccccccccccccc
    ..................................1.......................................................................................................cccccccccccccccccccccc
    ..........................................................................................................................................aaaaaaaaaaaaaaaaaaaaaa
    ..........................................................................................................................................aaaaaaaaaaaaaaaaaaaaaa
    ..........................................................................................................................................aaaaaaaaaaaaaaaaaaaaaa
    ..........................................................................................................................................aaaaaaaaaaaaaaaaaaaaaa
    ..........................................................................................................................................aaaaaaaaaaaaaaaaaaaaaa
    ..........................................................................................................................................cccccccccccccccccccccc
    ..........................................................................................................................................cccccccccccccccccccccc
    ...........................................................................................................................................ccccccccccccccccccccc
    ...........................................................................................................................................ccccccccccccccccccccc
    ...........................................................................................................................................ccccccccccccccccccccc
    ................................................................................1...........................1...............................cccccccccccccccccccc
    ....................................................1........................................................................................ccccccccccccccccccc
    .................1.....................................................................................................................1......cccccccccccccccccc
    ..............................................................................................................................................cccccccccccccccccc
    ................................................................................................................................................bbbbbbbbbbbbbbbb
    ................................................................................................................................................bbbbbbbbbbbbbbbb
    ..................................................................................................................................................cccccccccccccc
    .....................................................................................................................................................ccccccccccc
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..................................1.............................................................................................................................
    ................................................................................................................................................................
    ...1..............................................................1...........................1.......................1.........................................
    ................................................................................................................................................................
    ..........................................................................................................................................................1.....
    ................................................................................................................................................................
    ................................................................................................................................................................
    333333..........................................................................................................................................................
    33333333............1...........................................................................................................................................
    333333333.......................................................................................................................................................
    3333333333......................................................................................................................................................
    22222222222...................................................................................................1.........................1.......................
    222222222222.......................................................................1............................................................................
    222222222222....................................................................................................................................................
    333333333333......................................1.............................................................................................................
    333333333333....................................................................................................................................................
    333333333333....................................................................................................................................................
    333333333333....................................................................................................................................................
    333333333333....................................................................................................................................................
    333333333333....................................................................................................................................................
    333333333333....................................................................................................................................................
    aaaaaaaaaaaa....................................................................................................................................................
    aaaaaaaaaaaa....................................................................................................................................................
    aaaaaaaaaaa................................................................................................................................................1....
    3333333333...................1..................................................................................................................................
    333333333.........................................................1...............................1.............................................................
    33333333...................................................................................................................1....................................
    333333..........................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    .........1......................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    .................................................1..............................................................................................................
    ................................................................................1..........................................................1....................
    ...............................................................................................................1................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ............................1...................................................................................................................................
    ................................................................................................................................................................
    ........................................................................................ddddddddd...............................................................
    ................................................................1.....................ddddddddddddd......................................................1......
    .....................................................................................ddddddddddddddd............................................................
    ....................................................................................ddddddddddddddddd........................1..................................
    ...................................................................................ddddddddddddddddddd..........................................................
    ...................................................................................ddddddddddddddddddd..........................................................
    ..................................................................................fffffffffffffffffffff.........................................................
    ..................................................................................fffffffffffffffffffff.........................................................
    ..................................................................................fffffffffffffffffffff.........................................................
    ..................................................................................ddddddddddddddddddddd.........................................................
    ..................................................................................ddddddddddddddddddddd.........................................................
    ..........1.......................................................................ddddddddddddddddddddd.........1...............................................
    ............................................1.....................................ddddddddddddddddddddd.........................................................
    ..............................................................................1...ddddddddddddddddddddd......................................1..................
    ..................................................................................eeeeeeeeeeeeeeeeeeeee.........................................................
    ...................................................................................eeeeeeeeeeeeeeeeeeee.........................................................
    ...................................................................................eeeeeeeeeeeeeeeeeee..........................................................
    ....................................................................................ddddddddddddddddd...........................................................
    `)
game.onUpdateInterval(5000, function () {
    Strenght = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . 9 9 9 9 9 9 9 . . . . . 
        . . . 9 6 6 6 6 6 6 6 9 . . . . 
        . . 9 6 8 8 8 8 8 8 8 6 9 . . . 
        . 9 6 8 8 8 8 8 8 8 8 8 6 9 . . 
        9 6 8 8 8 8 8 8 8 8 8 8 8 6 9 . 
        9 6 8 8 8 8 8 8 8 8 8 8 8 6 9 . 
        9 6 8 8 8 8 8 8 8 8 8 8 8 6 9 . 
        9 6 8 8 8 8 8 8 8 8 8 8 8 6 9 . 
        9 6 8 8 8 8 8 8 8 8 8 8 8 6 9 . 
        9 6 8 8 8 8 8 8 8 8 8 8 8 6 9 . 
        9 6 8 8 8 8 8 8 8 8 8 8 8 6 9 . 
        . 9 6 8 8 8 8 8 8 8 8 8 6 9 . . 
        . . 9 6 8 8 8 8 8 8 8 6 9 . . . 
        . . . 9 6 6 6 6 6 6 6 9 . . . . 
        `, SpriteKind.Food)
    Strenght.setVelocity(-50, 0)
    Strenght.setPosition(163, randint(2, 118))
})
game.onUpdateInterval(1000, function () {
    if (Defeats < 100) {
        Space_Comet = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . 4 4 . . . . . . . . . . 
            . . . 4 5 5 4 4 4 . . . . . . . 
            . . 4 5 e e 5 5 5 4 4 . . . . . 
            . 4 5 e e e e 5 5 5 4 4 . . . . 
            . 4 5 e e e e 5 5 5 4 4 . . . . 
            . . 4 5 e e 5 5 5 4 4 . . . . . 
            . . . 4 5 5 4 4 4 . . . . . . . 
            . . . . 4 4 . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Enemy)
        Space_Comet.setVelocity(-50, 0)
        Space_Comet.setPosition(163, randint(2, 118))
    }
})
forever(function () {
    music.playMelody("E B C5 A B G A F ", 120)
})
forever(function () {
    if (Defeats >= 100) {
        Master_Comet = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . 9 9 9 9 9 9 9 . . . . . . 
            . . 9 8 8 8 8 8 8 9 9 9 9 9 9 . 
            . 9 8 8 e e e e 8 8 8 9 9 9 9 9 
            . 9 8 e e e e e e 8 8 8 9 9 9 9 
            . 9 8 e e e e e e 8 8 8 8 9 9 9 
            . 9 8 e e e e e e 8 8 8 8 9 9 9 
            . 9 8 e e e e e e 8 8 8 9 9 9 9 
            . 9 8 8 e e e e 8 8 8 9 9 9 9 . 
            . . 9 8 8 8 8 8 8 9 9 9 . . . . 
            . . . 9 9 9 9 9 9 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Boss)
        info.startCountdown(20)
        while (Defeats >= 100) {
            Master_Comet.setPosition(146, randint(0, 120))
            pause(500)
        }
    }
})
